<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns = "template" lang = "en">

<head>
  <script>
    // Called when the url of a tab changes.
    function checkForValidUrl(tabId, changeInfo, tab) {
      if (tab.url.indexOf('compose') > -1 || tab.url.indexOf('drafts/') > -1 || tab.url.indexOf('docs.google.com/document/') > -1) {
        // ... show the page action.
        chrome.pageAction.show(tabId);
      }
    };

    // Listen for any changes to the URL of any tab.
    chrome.tabs.onUpdated.addListener(checkForValidUrl);
     /*  
    chrome.extension.onRequest.addListener(
      function(request, sender, sendResponse) {
        alert("1");
        chrome.tabs.executeScript({code: "createPanel();"]);
      });
      */
    //chrome.pageAction.onClicked.addListener(function(Tab tab) {alert("!")}));
  </script>
</head>

<body>
</body>
</html>